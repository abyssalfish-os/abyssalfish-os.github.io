<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>流影 – 开源网络流量可视化分析平台</title><link>https://abyssalfish-os.github.io/</link><description>Recent Hugo news from gohugo.io</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Thu, 29 Dec 2022 12:00:00 +0800</lastBuildDate><image><url>https://abyssalfish-os.github.io/img/hugo.png</url><title>GoHugo.io</title><link>https://abyssalfish-os.github.io/</link></image><atom:link href="https://abyssalfish-os.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>News: 流影完整安装部署包发布</title><link>https://abyssalfish-os.github.io/news/pkg/</link><pubDate>Wed, 26 Apr 2023 00:00:00 +0800</pubDate><guid>https://abyssalfish-os.github.io/news/pkg/</guid><description>
&lt;h2 id="流影完整安装部署包发布">流影完整安装部署包发布 &lt;a class="header-link" href="#%e6%b5%81%e5%bd%b1%e5%ae%8c%e6%95%b4%e5%ae%89%e8%a3%85%e9%83%a8%e7%bd%b2%e5%8c%85%e5%8f%91%e5%b8%83">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;h3 id="前言">前言 &lt;a class="header-link" href="#%e5%89%8d%e8%a8%80">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;p>根据前期小伙伴们安装部署遇到的问题比较多，这其中有我们自己的原因，比如拆分了安装包引起部署失败，
原因是github和gitee不支持上传大文件，在Release时进行了拆分打包，小伙伴们下载后有些依赖没有正确组合，造成了很多安装问题。&lt;/p>
&lt;p>为了进一步减低安装试用的门槛，这次制作了和发布CentOS7下的完整的安装包，包含所有节点的Release文件和部署脚本，方便大家快速安装试用，减少安装失败的可能性。
其他更多操作系统环境的安装部署包，也在测试和适配之中，敬请关注。&lt;/p>
&lt;h3 id="下载地址">下载地址 &lt;a class="header-link" href="#%e4%b8%8b%e8%bd%bd%e5%9c%b0%e5%9d%80">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;p>由于安装部署包较大，我们将安装包放在了网盘上。请您选择一种网盘链接去下载即可。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://pan.baidu.com/s/1C_gofonH5hGEl7Ryj30KAg">百度网盘：流影完整安装包&lt;/a> 提取码 AFOS&lt;/li>
&lt;li>&lt;a href="https://pan.quark.cn/s/bb6947d13e83">夸克网盘：流影完整安装包&lt;/a> 提取码：CUSy&lt;/li>
&lt;/ul>
&lt;p>完整安装包是对最新Release版本的打包，其安装方式请参见安装部署手册，不再赘述。&lt;/p>
&lt;h3 id="后语">后语 &lt;a class="header-link" href="#%e5%90%8e%e8%af%ad">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;p>流影定位于轻量级的网络安全态势感知与可视化分析平台，开源版本集成了流量探针、网络行为分析引擎、威胁检测引擎和交互式可视化分析引擎四个核心模块，
实现了对网络流量全方位监测、网络行为多维度特征提取留存和网络威胁行为实时告警等基本功能。我们欢迎大家的使用反馈，特别是积极参与项目贡献。如果用户有商业定制化需求，也欢迎进行联系合作。&lt;/p>
&lt;h3 id="反馈">反馈 &lt;a class="header-link" href="#%e5%8f%8d%e9%a6%88">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;p>如果有问题，欢迎通过邮件或者微信群进行反馈。&lt;/p>
&lt;ul>
&lt;li>邮箱：opensource@abyssalfish.com.cn&lt;/li>
&lt;li>扫码进入微信讨论群
&lt;figure style="padding: 0.25rem; margin: 2rem 0; ">
&lt;img style="max-width: 100%; width: auto; height: auto;" src="https://abyssalfish-os.github.io/news/pkg/wx_group_hu382f7d8cb587e8fa5dc30ffe17d00f19_29687_256x0_resize_catmullrom_3.png" width="256" height="249">
&lt;/figure>
&lt;/li>
&lt;/ul></description></item><item><title>News: 流影之隐蔽隧道通讯行为检测，预警C2和数据窃取</title><link>https://abyssalfish-os.github.io/news/tunnel/</link><pubDate>Tue, 11 Apr 2023 00:00:00 +0800</pubDate><guid>https://abyssalfish-os.github.io/news/tunnel/</guid><description>
&lt;h2 id="前言">前言 &lt;a class="header-link" href="#%e5%89%8d%e8%a8%80">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>本文是关于流影功能使用介绍系列文章之一，主要介绍流影中隧道通讯行为的检测概要、相关告警事件的查看与分析。前期已经发布了多篇功能使用介绍类似性质的blog，建议大家阅读，并在演示demo中进行实际操作，能够帮助大家比较好的理解流影的功能和应用场景。&lt;/p>
&lt;h2 id="隧道通讯行为简介">隧道通讯行为简介 &lt;a class="header-link" href="#%e9%9a%a7%e9%81%93%e9%80%9a%e8%ae%af%e8%a1%8c%e4%b8%ba%e7%ae%80%e4%bb%8b">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>网络隧道技术是通过一种网络协议来传输另一种网络协议的通讯技术。网络隧道通讯一般通过网络隧道协议实现，例如用于VPN的各类协议PPTP、LTF、L2TP协议等。&lt;/p>
&lt;p>恶意攻击者经常利用网络隧道技术进行隐蔽通讯，达到远程命令控制或者数据传输的目的。攻击者使用隧道协议将数据包封装成防火墙允许通过的数据包类型，绕过防火墙或入侵检测设备，发送到对应的服务器上，到达目标后解封。使用传统的socket隧道通讯目前已经很少了，因为TCP\UDP类型的隧道通讯基本被安全防护系统的策略所拦截。而DNS、ICMP等属于很少会被列为封禁的协议，因此这些协议成为恶意攻击者构建隧道通讯工具的主要协议。&lt;/p>
&lt;h3 id="icmp隧道通讯">ICMP隧道通讯 &lt;a class="header-link" href="#icmp%e9%9a%a7%e9%81%93%e9%80%9a%e8%ae%af">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;p>ICMP隧道属于网络层隧道，将TCP/UDP的数据包封装到ICMP的ping数据包中，从而穿过防火墙，实现不受控制的访问。常用的ICMP隧道工具有ICMPsh、PingTunnel、ICMPTunnel、PowerShell ICMP等。&lt;/p>
&lt;p>ICMP隧道是一个很特殊的协议，ICMP报文是由系统内核处理的，不占用任何端口，因此具有很高的隐蔽性。在一般的通信协议里，如果两台设备要进行通信，肯定要开放端口，而在ICMP协议下不需要开放端口。 进行隧道通讯的时候，内部主机运行并接受外部攻击端的ICMP_ECHO数据包，攻击端把需要执行的命令隐藏在ICMP_ECHO数据包中，被攻击者接收到该数据包，解封其中隐藏的命令后在内部主机上执行，将执行结果封装在ICMP_ECHOREPLY数据包中，发送给外部攻击端。 在一些条件下，如果攻击者使用各类隧道技术（HTTP，DNS，常规正反端口转发等）操作都失败了，常常会通过ping命令访问远程计算机， 尝试进行ICMP隧道，将TCP/UDP数据封装到ICMP的ping数据包中，从而穿过防火墙（通常防火墙不会屏蔽ping数据包），实现不受限制的网络通讯。ICMP类隧道，经常被应用于窃取信息类的木马后门之中。&lt;/p>
&lt;p>从流量上看，ICMP隧道通讯的特征，一般是通讯时刻ICMP数据包数量有大量的增长，数据包Payload一般比较大，请求数据包和响应数据包内容不一致，有的还带有类似TUNL的指纹标记。利用ICMP的通讯特征，可以从流量中进行检测ICMP隧道通讯行为。&lt;/p>
&lt;h3 id="dns隧道通讯">DNS隧道通讯 &lt;a class="header-link" href="#dns%e9%9a%a7%e9%81%93%e9%80%9a%e8%ae%af">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;p>DNS隧道属于应用层隧道，通过将其他协议封装在DNS协议中实现网络通讯。数据封装一般在客户端进行，服务器进行DNS流量解封成正常的流量。目前攻击者利用比较多的是域名型的DNS隧道，通过DNS迭代查询进行中继，将数据封装在DNS协议中，这种隧道方式比较隐蔽，但是速度上也比较慢。DNS域名字符串根据RFC约定在字母以及连字符’-’，每个子域最多63个字符，总长度最多253个字符。DNS隧道通讯一般会使用base32或base64来编码要传输的信息，为了更多的编码信息，造成域名长度普遍比较大。发送端将隐蔽数据信息切分并且编码后封装到DNS报文域名中进行传输，接收端收到DNS报文后提取域名中的隐蔽信息字段进行解码重组还原得到IP报文。从DNS协议的角度来看，这样的操作只是递归查询某些域名并得到解析结果，事实上内部封装的Payload确可以包含任意数据，包括远程控制C2指令，从而达到命令控制或数据传输的目的。&lt;/p>
&lt;p>攻击者利用了大多数防火墙和入侵检测设备对DNS流量是放行的条件，通过DNS隧道进行渗透后的命令控制（C2）或数据传输，在建立隧道连接后将指令传递给客户端上的后门程序。DNS隧道常见的工具有DNSCat、Iodine、Cobaltstrike等。&lt;/p>
&lt;p>从流量上看，DNS隧道的通讯特征，在通讯时刻会出现DNS流量上的增长，数据Payload较长，域名随机性比较大。可以利用其通讯特征，进行DNS隧道通讯的检测识别。&lt;/p>
&lt;h2 id="流影中隧道通讯事件告警">流影中隧道通讯事件告警 &lt;a class="header-link" href="#%e6%b5%81%e5%bd%b1%e4%b8%ad%e9%9a%a7%e9%81%93%e9%80%9a%e8%ae%af%e4%ba%8b%e4%bb%b6%e5%91%8a%e8%ad%a6">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影开源版集成了ICMP隧道通讯和DNS隧道通讯行为检测模型，识别出的告警事件类型分别称为ICMP隧道事件和DNS隧道事件。&lt;/p>
&lt;h3 id="icmp隧道事件">ICMP隧道事件 &lt;a class="header-link" href="#icmp%e9%9a%a7%e9%81%93%e4%ba%8b%e4%bb%b6">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;p>用户登录系统后，在主菜单点击“事件”，进入事件总览页面，在筛选查询区域，通过事件类型可以筛选ICMP隧道的告警事件。筛选事件类型后，页面上半部分显示统计分布相关信息，如下图所示：&lt;/p>
&lt;p>&lt;img src="./icmp_0.png" alt="icmp0">&lt;/p>
&lt;p>在页面下半部分区域，是筛选出的ICMP告警事件列表，默认显示一天内事件，右上角可以选取事件的时间范围，如图所示。&lt;/p>
&lt;p>&lt;img src="./icmp_1.png" alt="icmp1">&lt;/p>
&lt;p>在筛选出的ICMP事件列表中，点击该某一行事件ID，即跳转到该事件的详情页面，能够查看该告警事件相关详细信息，详情页面上半部分显示源、目的资产信息、事件信息、告警行为详细时序图及特征分析数据。&lt;/p>
&lt;p>&lt;img src="./icmp_2.png" alt="icmp2">&lt;/p>
&lt;p>在详情页面下半部分区域（ICMP没有TCP时序数据，因此图表为空），以列表形式显示该事件相关NetFlow特征信息。ICMP隧道支持查看Payload数据特征，便于用户分析。例如对demo演示环境中的一个事件，如下图所示，发现其Payload里的内容很不正常。&lt;/p>
&lt;p>&lt;img src="./icmp_3.png" alt="icmp3">&lt;/p>
&lt;h3 id="dns隧道事件">DNS隧道事件 &lt;a class="header-link" href="#dns%e9%9a%a7%e9%81%93%e4%ba%8b%e4%bb%b6">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;p>登录系统后，在主菜单点击“事件”，进入事件总览页面，在筛选查询区域，通过事件类型可以筛选DNS隧道的告警事件。筛选事件类型后，页面上半部分显示统计分布相关信息，如下图所示：&lt;/p>
&lt;p>&lt;img src="./dns_0.png" alt="dns0">&lt;/p>
&lt;p>在页面下半部分区域，是筛选出的DNS告警事件列表，默认显示一天内事件，右上角可以选取事件的时间范围，如图所示。&lt;/p>
&lt;p>&lt;img src="./dns_1.png" alt="dns1">&lt;/p>
&lt;p>在DNS事件列表中，点击该某一事件ID，即跳转到该事件的详情页面，能够查看该告警事件相关详细信息，详情页面上半部分显示源、目的资产信息、事件信息、告警行为详细时序图及特征分析数据。&lt;/p>
&lt;p>&lt;img src="./dns_2.png" alt="dns2">&lt;/p>
&lt;p>在详情页面下半部分区域，以可视化图表方式显示DNS请求时序分布图和相关数据特征，以列表形式显示该事件相关NetFlow特征信息。DNS隧道支持查看Payload数据特征，便于用户查看。如下图所示，发现DNS请求大量随机域名，很不正常，需要引起注意。&lt;/p>
&lt;p>&lt;img src="./dns_3.png" alt="dns3">&lt;/p>
&lt;p>以上就是隧道通讯告警事件的查看和分析示例，用户使用中需要对这类事件给与关注，隧道通讯事件的确认，往往意味着已经被攻陷。需要引起重视，具体事件具体分析，及时响应。需要说明的是，演示环境中的数据是来自实验模拟环境中测试数据，请勿用于实际响应和阻断。&lt;/p>
&lt;h2 id="相关配置">相关配置 &lt;a class="header-link" href="#%e7%9b%b8%e5%85%b3%e9%85%8d%e7%bd%ae">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>用户可以查看、修改或新建告警规则配置，需要管理员权限。登录系统后，点击配置菜单中“规则”子菜单，如下即可查看和修改相关配置。&lt;/p>
&lt;p>&lt;img src="./config.png" alt="conf">&lt;/p>
&lt;p>这里不做深入介绍，感兴趣的伙伴们可以自行探索，如果有相关问题，可以进入流影开源微信群进行反馈沟通。&lt;/p>
&lt;h2 id="结语">结语 &lt;a class="header-link" href="#%e7%bb%93%e8%af%ad">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>攻击者经常利用网络隧道实现远程命令控制和数据窃取，造成目标攻陷或数据泄露等安全事件。隧道通讯事件的发生，往往意味着内部已经被攻陷，企业安全运营人员需要重视此类告警。流影集成了ICMP隧道通讯和DNS隧道通讯检测模型，实现网络隐蔽通讯行为发现和告警，留存了通讯相关特征，便于用户取证分析，能够帮助用户及时发现隧道通讯行为，尽快做出响应，避免更大损失。&lt;/p>
&lt;h2 id="相关信息">相关信息 &lt;a class="header-link" href="#%e7%9b%b8%e5%85%b3%e4%bf%a1%e6%81%af">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>欢迎大家使用流影，更加欢迎参与项目贡献。流影广泛适用于各种网络安全防护场景，包括不限于入侵检测、威胁狩猎、攻防演练、网络证据留存、网络行为调查分析、态势感知等，如果有商务定制化需求，欢迎联系合作。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://abyssalfish-os.github.io/">流影项目主页&lt;/a>&lt;/li>
&lt;li>邮箱：opensource@abyssalfish.com.cn&lt;/li>
&lt;li>扫码进入微信讨论群
&lt;figure style="padding: 0.25rem; margin: 2rem 0; ">
&lt;img style="max-width: 100%; width: auto; height: auto;" src="https://abyssalfish-os.github.io/news/tunnel/wx_group_hu382f7d8cb587e8fa5dc30ffe17d00f19_29687_256x0_resize_catmullrom_3.png" width="256" height="249">
&lt;/figure>
&lt;/li>
&lt;/ul></description></item><item><title>News: 流影使用教学视频在B站发布</title><link>https://abyssalfish-os.github.io/news/bili/</link><pubDate>Thu, 06 Apr 2023 00:00:00 +0800</pubDate><guid>https://abyssalfish-os.github.io/news/bili/</guid><description>
&lt;h2 id="教学视频">教学视频 &lt;a class="header-link" href="#%e6%95%99%e5%ad%a6%e8%a7%86%e9%a2%91">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>前期开源群的小伙伴反馈说如果有教学视频，会更方便大家了解功能与使用操作，这是一个极好的建议，相关负责人马上进行了规划和安排。我们在B站注册了官方账号，学习了视频剪辑制作，今天已经开始发布。视频地址如下，点击跳转：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://space.bilibili.com/3493262893517732">流影使用教学视频 on Bilibili&lt;/a>&lt;/li>
&lt;/ul>
&lt;aside class="admonition note">
&lt;div class="note-icon">
&lt;/div>
&lt;div class="admonition-content">&lt;p>视频制作在不断进行中，后续会不定期在B站上面发布，敬请关注。&lt;/p>
&lt;/div>
&lt;/aside>
&lt;h3 id="流影vmware镜像安装视频">流影Vmware镜像安装视频 &lt;a class="header-link" href="#%e6%b5%81%e5%bd%b1vmware%e9%95%9c%e5%83%8f%e5%ae%89%e8%a3%85%e8%a7%86%e9%a2%91">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;div style="margin: 10px 0 20px 0;">
&lt;div style="position:relative; padding-bottom:75%; width:100%; height:0">
&lt;iframe src="//player.bilibili.com/player.html?bvid=BV1Mg4y1g7nT&amp;page=1"
scrolling="no" border="0"
frameborder="no"
framespacing="0"
allowfullscreen="true"
style="position:absolute; height: 100%; width: 100%;">
&lt;/iframe>
&lt;/div>
&lt;div style="margin: 5px 0;">
&lt;span>更多视频，请点击跳转 &lt;strong>Bilibili&lt;/strong>进行观看&lt;/span>
&lt;a href="https://space.bilibili.com/3493262893517732">流影教学视频&lt;/a>
&lt;/div>
&lt;/div>
&lt;h2 id="后语">后语 &lt;a class="header-link" href="#%e5%90%8e%e8%af%ad">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影定位于轻量级的网络安全态势感知与可视化分析平台，开源版本集成了流量探针、网络行为分析引擎、威胁检测引擎和交互式可视化分析引擎四个核心模块，
实现了对网络流量全方位监测、网络行为多维度特征提取留存和网络威胁行为实时告警等基本功能。&lt;/p>
&lt;p>欢迎大家的使用反馈，特别欢迎伙伴们积极参与项目贡献。&lt;/p></description></item><item><title>News: 流影之深度包检测（DPI）识别恶意网络行为</title><link>https://abyssalfish-os.github.io/news/dpi/</link><pubDate>Wed, 05 Apr 2023 00:00:00 +0800</pubDate><guid>https://abyssalfish-os.github.io/news/dpi/</guid><description>
&lt;h2 id="前言">前言 &lt;a class="header-link" href="#%e5%89%8d%e8%a8%80">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影已经开源4个月左右，几乎每周都有新的小伙伴入群，进行使用反馈和建议。大家的建议和需求，我们已经收集记录，列入后续改进迭代计划。这里首先对大家的踊跃参与表示感谢。&lt;/p>
&lt;p>为了使大家了解流影的功能和应用场景，前期已经发布了几篇功能使用方面的blog，建议大家阅读。本文也是同系列文章，主要介绍流影中的包特征识别告警事件查看与分析使用。&lt;/p>
&lt;h2 id="深度包检测技术简介">深度包检测技术简介 &lt;a class="header-link" href="#%e6%b7%b1%e5%ba%a6%e5%8c%85%e6%a3%80%e6%b5%8b%e6%8a%80%e6%9c%af%e7%ae%80%e4%bb%8b">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>传统IP数据包检测技术是对2层到4层之间的数据包（IP\TCP数据头）的检测分析，深度包检测DPI技术（Deep Packet Inspection）是相对于传统包检测技术而言，增加了对7层应用层数据包协议识别、内容检测与分析技术。DPI检测（包特征识别）技术本质上属于计算机科学基础中的模式匹配技术范畴。&lt;/p>
&lt;p>DPI技术已经发展了大概30多年，其历史可以追溯到上世纪90年代。基本上随着计算机网络的形成，该技术相关雏形也伴随发展出现，最早被用于通过分析数据包来尝试解决UNIX相关安全问题。后来在网络流量分类中表现出色，DPI技术也被大家普遍认识。DPI技术应用广泛，包括不限于应用检测、网元分析、流量控制、入侵检测等方面。&lt;/p>
&lt;p>DPI检测技术用于网络安全方面，除了检测算法之外，最重要的就是模式规则库，通俗的说就是指纹库，即正则表达式的逻辑组合数据库。网络攻击技术发展迅速，检测规则库也需要不断更新维护。规则库的质量，直接决定了一些使用该技术的安全产品的防护效果。&lt;/p>
&lt;h2 id="包检测事件查看与分析">包检测事件查看与分析 &lt;a class="header-link" href="#%e5%8c%85%e6%a3%80%e6%b5%8b%e4%ba%8b%e4%bb%b6%e6%9f%a5%e7%9c%8b%e4%b8%8e%e5%88%86%e6%9e%90">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影利用深度包检测技术，实现疑似恶意网络行为识别和网络资产的被动测绘。开源版集成了部分恶意网络行为指纹，同时支持用户自定义指纹。使用深度包检测技术识别的事件，在流影中归类为包特征识别事件。对包识别特征事件，支持用户查看所匹配特征的Payload，并支持特征数据Pcap包的留存，便于取证分析。&lt;/p>
&lt;p>开源流影已经集成的恶意网络行为包特征，主要包括SQL注入(sql)、命令执行(cmd)、代码执行(code)、XSS、系统文件(file)、后门(backdoor)、WebShell等类型。&lt;/p>
&lt;p>用户登录系统后，在主菜单点击“事件”，进入事件总览页面，在筛选查询区域，通过事件类型可以筛选出包特征识别的告警事件，如果系统识别了相关事件，详细类型会出现其细分标签类型。点击查询，页面上半部分显示统计分布相关信息，如下图所示：&lt;/p>
&lt;p>&lt;img src="./dpi_0.png" alt="dpi0">&lt;/p>
&lt;p>在页面下半部分区域，是筛选出的包特征识别告警事件列表，默认显示一天内事件，右上角可以选取事件的时间范围，如图所示。&lt;/p>
&lt;p>&lt;img src="./dpi_1.png" alt="dpi1">&lt;/p>
&lt;p>在筛选出的包特征事件列表中，点击该事件ID后，可跳转到该事件的详情页面，进一步查看该告警事件相关详细信息，详情页面上半部分显示源、目的资产信息、事件信息、告警行为详细时序图及特征分析数据。在详情页面下半部分区域，可视化展示了TCP主动握手时序图及数据特征，以列表形式显示该事件相关NetFlow特征信息。包检测事件支持查看Payload数据特征，便于用户分析确认。例如对demo演示环境中的一个SQL事件，点击左侧按钮展开，即可查看其详细内容。如下图所示，发现其Payload里的内容为SQL语句，疑似SQL注入。&lt;/p>
&lt;p>&lt;img src="./dpi_sql.png" alt="dpi_sql">&lt;/p>
&lt;p>再返回事件列表，查看一些其他类型的事件，下面是演示系统中一个CMD类型事件的特征，具有jndi特征，疑似为log4j漏洞利用的恶意行为：&lt;/p>
&lt;p>&lt;img src="./dpi_cmd.png" alt="dpi_cmd">&lt;/p>
&lt;p>下面是一个挖矿通信行为的包特征识别事件，在之前发布的文章中已经介绍过，如图所示。&lt;/p>
&lt;p>&lt;img src="./dpi_mine.png" alt="dpi_mine">&lt;/p>
&lt;p>以上就是部分包特征识别事件的查看和分析示例，用户使用中需要对包特征识别事件给与关注，具体事件具体分析，及时响应。&lt;/p>
&lt;h2 id="流影中包检测指纹配置">流影中包检测指纹配置 &lt;a class="header-link" href="#%e6%b5%81%e5%bd%b1%e4%b8%ad%e5%8c%85%e6%a3%80%e6%b5%8b%e6%8c%87%e7%ba%b9%e9%85%8d%e7%bd%ae">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影中包检测指纹数据，位于探针ly_probe开源组件中，具体文件为ly_probe/fp-patterns/threat.json，如下图所示：&lt;/p>
&lt;p>&lt;img src="./dpi_fp.png" alt="dpi_fp">&lt;/p>
&lt;p>用户可以查看、修改其中配置内容，进行自定义指纹规则。&lt;/p>
&lt;p>&lt;img src="./dpi_fp_2.png" alt="dpi_fp2">&lt;/p>
&lt;p>这里不做深入介绍，感兴趣的伙伴们可以查看源码深入研究，如果自定义配置时有相关问题，可以加群反馈沟通。&lt;/p>
&lt;h2 id="结语">结语 &lt;a class="header-link" href="#%e7%bb%93%e8%af%ad">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影集成了深度包检测技术和部分恶意网络行为的匹配指纹，实现多种恶意网络行为识别和告警，并留存了原始Pcap数据包，便于用户取证分析。同时，支持用户自定义配置特征指纹，不断提高检测能力。&lt;/p>
&lt;h2 id="相关信息">相关信息 &lt;a class="header-link" href="#%e7%9b%b8%e5%85%b3%e4%bf%a1%e6%81%af">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>欢迎大家使用流影，更加欢迎大家积极参与项目贡献。流影广泛适用于各种网络安全防护场景，包括不限于入侵检测、威胁狩猎、攻防演练、网络证据留存、网络行为调查分析、态势感知等，如果有商务定制化需求，欢迎联系合作。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://abyssalfish-os.github.io/">流影项目主页&lt;/a>&lt;/li>
&lt;li>邮箱：opensource@abyssalfish.com.cn&lt;/li>
&lt;li>扫码进入微信讨论群
&lt;figure style="padding: 0.25rem; margin: 2rem 0; ">
&lt;img style="max-width: 100%; width: auto; height: auto;" src="https://abyssalfish-os.github.io/news/dpi/wx_group_hu382f7d8cb587e8fa5dc30ffe17d00f19_29687_256x0_resize_catmullrom_3.png" width="256" height="249">
&lt;/figure>
&lt;/li>
&lt;/ul></description></item><item><title>News: 流影之DGA域名识别检测</title><link>https://abyssalfish-os.github.io/news/dga/</link><pubDate>Sat, 25 Mar 2023 00:00:00 +0800</pubDate><guid>https://abyssalfish-os.github.io/news/dga/</guid><description>
&lt;h2 id="前言">前言 &lt;a class="header-link" href="#%e5%89%8d%e8%a8%80">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>DGA是域名生成算法(Domain Generation Algorithm)的简写，该技术被攻击者广泛应用于构建恶意软件基础设施之中，例如僵尸网络的C2（Command and Control）通讯设施， 如Mirai、Conficker、Mjuyh等僵尸网络, 通过生成域名的随机性与短时生存性来躲避检测。&lt;/p>
&lt;p>识别DGA域名对安全防守方很有意义，能够协助发现恶意软件通讯行为，从而及时响应。流影内置了基于深度学习的DGA域名检测模型，支持从DNS流量中识别DGA域名，具有较高的准确度。本文简要介绍流影中如何查看和分析DGA告警事件。&lt;/p>
&lt;h2 id="dga相关简介">DGA相关简介 &lt;a class="header-link" href="#dga%e7%9b%b8%e5%85%b3%e7%ae%80%e4%bb%8b">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>2009年DGA被首次曝光，相关攻防技术目前已发展了十几年。DGA域名本身没有好坏之分，主要与使用者的目的有关。恶意攻击者利用DGA算法随机生成大量域名，来规避安全设备的检测封禁。其基本原理是，攻击者控制端和被控端运行相同的DGA算法，当需要发起攻击的时候，选择其中一部分进行注册生效，建立起C2通道后实施攻击。
截止目前，DGA仍然是广泛应用于恶意软件与C2服务器通信之中。业界、学界也对DGA算法进行了大量的研究，提出了许多检测方法。&lt;/p>
&lt;ol>
&lt;li>已知DGA域名碰撞检测&lt;/li>
&lt;li>基于概率统计的模型&lt;/li>
&lt;li>传统机器学习模型&lt;/li>
&lt;li>深度学习模型&lt;/li>
&lt;/ol>
&lt;p>开始时，DGA就是攻击者为了躲避传统域名碰撞检测而设计的域名生成算法，DGA域名数量巨大，黑名单很难覆盖DGA域名，需要阻断所有DGA域名才能中断C2，使得传统碰撞检测机制基本失效。&lt;/p>
&lt;p>近年来大量的恶意软件中DGA算法被公开，积累了许多DGA域名数据，为构建深度学习模型提供了数据基础条件。深度学习技术具有强大的拟合和泛化能力，从一些研究结论和实际检测效果上来说，目前基于深度学习的模型准确率、误报率等综合性能方面都优于其他方法。
另一方面，并不能说深度学习已经完美解决了DGA域名检测的问题，事实上深度学习模型存在检测效率比较低的缺点，也无法杜绝误报。&lt;/p>
&lt;h2 id="流影中dga域名检测技术">流影中DGA域名检测技术 &lt;a class="header-link" href="#%e6%b5%81%e5%bd%b1%e4%b8%addga%e5%9f%9f%e5%90%8d%e6%a3%80%e6%b5%8b%e6%8a%80%e6%9c%af">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>我们基于现有dga检测技术，进行了优化改造，模型定时离线训练，并在流影中集成了DGA域名检测AI模型。该检测模型基于千万级域名正、负样本数据，样本数据涵盖了主要流行DGA算法，使用LSTM深度学习模型训练而成，并进行了模型压缩和参数调优，兼顾了检测效率和性能。模型框架概要如下图所示。&lt;/p>
&lt;p>&lt;img src="./dga_0.png" alt="dga">&lt;/p>
&lt;p>该模型基于tensorflow开源框架训练而成，线上部署时需要tensorflow C++相关环境。&lt;/p>
&lt;h2 id="流影dga告警查看与分析">流影DGA告警查看与分析 &lt;a class="header-link" href="#%e6%b5%81%e5%bd%b1dga%e5%91%8a%e8%ad%a6%e6%9f%a5%e7%9c%8b%e4%b8%8e%e5%88%86%e6%9e%90">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影中DGA告警事件是指系统对DNS流量中的域名检测，生成的疑似使用DGA域名通讯的网络行为事件告警。用户登录系统后，在主菜单点击“事件”，筛选查询区域，在事件类型可以筛选出DGA告警事件。页面上半部分主要显示统计相关信息，如下图所示：&lt;/p>
&lt;p>&lt;img src="./dga_1.png" alt="dga1">&lt;/p>
&lt;p>在页面下方可以查看DGA告警事件列表，如图所示。&lt;/p>
&lt;p>&lt;img src="./dga_2.png" alt="dga2">&lt;/p>
&lt;p>在事件列表中，点击某个事件ID后，跳转到该事件的详情页面，可以查看该告警详细信息，上方界面显示源、目的资产信息、事件信息、告警行为详细时序图及特征分析数据。&lt;/p>
&lt;p>&lt;img src="./dga_3.png" alt="dga3">&lt;/p>
&lt;p>在详情页面下方区域，可视化展示了DNS请求时序特征图，以列表形式显示该事件相关特征信息。&lt;/p>
&lt;p>&lt;img src="./dga_4.png" alt="dga4">&lt;/p>
&lt;p>从列表中可以看出，存在大量随机域名请求的通讯行为，需要引起警惕，表明主机可能存在恶意软件的，需要结合主机实际情况进一步分析确认。&lt;/p>
&lt;h2 id="相关防御建议">相关防御建议 &lt;a class="header-link" href="#%e7%9b%b8%e5%85%b3%e9%98%b2%e5%be%a1%e5%bb%ba%e8%ae%ae">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;ol>
&lt;li>及时修复高危漏洞&lt;/li>
&lt;li>避免运行来源不明的软件&lt;/li>
&lt;li>加强流量监测，识别DGA域名，排查相关主机&lt;/li>
&lt;/ol>
&lt;h2 id="结语">结语 &lt;a class="header-link" href="#%e7%bb%93%e8%af%ad">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影基于神经网络深度学习技术，实现对DNS流量中DGA域名的实时监测和告警，并将可疑流量特征以可视化的方式呈现，能够帮助用户快速定性，有效缩短分析响应时间。&lt;/p>
&lt;h2 id="相关信息">相关信息 &lt;a class="header-link" href="#%e7%9b%b8%e5%85%b3%e4%bf%a1%e6%81%af">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影广泛适用于各种网络安全防护场景，包括不限于入侵检测、威胁狩猎、攻防演练、网络证据留存、网络行为调查分析、态势感知等，如果有商务定制需求，欢迎联系合作。欢迎大家部署使用和反馈，更加欢迎大家积极参与项目贡献。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://abyssalfish-os.github.io/">流影项目主页&lt;/a>&lt;/li>
&lt;li>邮箱：opensource@abyssalfish.com.cn&lt;/li>
&lt;li>扫码进入微信讨论群
&lt;figure style="padding: 0.25rem; margin: 2rem 0; ">
&lt;img style="max-width: 100%; width: auto; height: auto;" src="https://abyssalfish-os.github.io/news/dga/wx_group_hu382f7d8cb587e8fa5dc30ffe17d00f19_29687_256x0_resize_catmullrom_3.png" width="256" height="249">
&lt;/figure>
&lt;/li>
&lt;/ul></description></item><item><title>News: 流影之数字加密货币挖矿检测</title><link>https://abyssalfish-os.github.io/news/mining/</link><pubDate>Fri, 10 Mar 2023 00:00:00 +0800</pubDate><guid>https://abyssalfish-os.github.io/news/mining/</guid><description>
&lt;h2 id="前言">前言 &lt;a class="header-link" href="#%e5%89%8d%e8%a8%80">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>近年来数字加密货币泛滥，总交易量逐年攀升，世界大范围涌现了所谓的“挖矿”热潮。数字加密货币交易机制会消耗大量资源，存在诸多弊端。虽然我国国内已经全面禁止非法数字加密货币的“挖矿”行为， 但是仍然存在许多组织或者黑客，为了金钱收益而不断进行非法挖矿。&lt;/p>
&lt;h2 id="数字加密货币挖矿行为简介">数字加密货币挖矿行为简介 &lt;a class="header-link" href="#%e6%95%b0%e5%ad%97%e5%8a%a0%e5%af%86%e8%b4%a7%e5%b8%81%e6%8c%96%e7%9f%bf%e8%a1%8c%e4%b8%ba%e7%ae%80%e4%bb%8b">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>挖矿行为可以分为主动挖矿和被动挖矿。主动挖矿一般是以获取收益为目的，利用自身服务器资源部署挖矿程序，加入比特币交易网络，主动从事挖矿。挖矿收益与算力正相关，发展经历了个人主机、服务器，到近年的专业矿机和矿池。随着国内挖矿的禁令及监管的加强，目前国内矿池基本都被取缔或者迁移到国外了。&lt;/p>
&lt;p>被动挖矿是指被黑客植入了挖矿程序，而发生的挖矿行为。这种情况一般比较隐蔽，相当于窃取了受害者的服务器算力资源，而且受害者往往不容易发现。挖矿木马是黑客最常用的植入式挖矿程序，黑客通常可以通过远程漏洞利用、账号爆破、恶意植马网站、鱼叉攻击等方式，将挖矿程序布置在受害者数字资源网络中，获取挖矿收益。挖矿程序种类多样，基本都开源，很容易被恶意封装，如CNRig、XMRig等；还有网页挖矿代码，一般是JS代码隐藏在网页中，当用户访问时，会自动运行挖矿代码，比如coinhive和jsecoin等。&lt;/p>
&lt;p>不管是主动或是被动挖矿，挖矿过程包括矿机登记、账号传递、挖矿任务获取、任务提交、挖矿难度调整等，涉及到矿机和矿池的多次网络交互行为，往往通过专用协议进行通信，如stratum协议。一般各“矿主”会将其控制的“矿机”连接到各类“矿池”，不断协同进行挖矿，矿池依据挖矿贡献大小在矿工中分配比特币奖励。&lt;/p>
&lt;h2 id="流影中挖矿行为检测技术">流影中挖矿行为检测技术 &lt;a class="header-link" href="#%e6%b5%81%e5%bd%b1%e4%b8%ad%e6%8c%96%e7%9f%bf%e8%a1%8c%e4%b8%ba%e6%a3%80%e6%b5%8b%e6%8a%80%e6%9c%af">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影中使用的挖矿检测技术，大体上分成两类：基于情报碰撞和基于流量指纹匹配。如下图所示。
&lt;img src="./mine_1.png" alt="mine">&lt;/p>
&lt;p>基于情报碰撞的方式，主要利用矿机与矿池通信的IOC进行检出。可利用情报数据包括公开矿池信息和威胁情报中矿池节点IP、域名信息，威胁情报中的挖矿相关的IOC（如挖矿木马主控）。基于流量指纹匹配的方式，对非加密通信流量可行，对加密流量无效。两种方法各有优缺点，能够形成互补效益，结合起来能够形成更好的检测效果。从流量指纹检测出的挖矿行为，确认后可以提取矿池IOC，形成挖矿情报，反馈给情报碰撞检测；情报命中的疑似挖矿行为，可以进一步通过流量指纹匹配进行跟踪，交叉验证。&lt;/p>
&lt;h2 id="挖矿行为告警查看与分析">挖矿行为告警查看与分析 &lt;a class="header-link" href="#%e6%8c%96%e7%9f%bf%e8%a1%8c%e4%b8%ba%e5%91%8a%e8%ad%a6%e6%9f%a5%e7%9c%8b%e4%b8%8e%e5%88%86%e6%9e%90">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影中挖矿事件是指系统分析检测到用户设备访问数字货币交易平台、连接矿池、接收挖矿任务、提交任务等典型网络挖矿通信行为。登录系统后，在主菜单点击“事件”，筛选查询区域，通过事件类型可以筛选出挖矿事件。如下图所示。&lt;/p>
&lt;p>&lt;img src="./mine_2.png" alt="mine2">&lt;/p>
&lt;p>其中mine在系统中标记为“包特征识别”，就是流量指纹匹配出的挖矿行为；挖矿、矿池、XMR等事件类型是情报碰撞出的疑似挖矿行为。下面以流量匹配的挖矿事件进行说明。在页面下方可以查看告警事件列表，如图所示。&lt;/p>
&lt;p>&lt;img src="./mine_3.png" alt="mine3">&lt;/p>
&lt;p>选择一个ID后，可以跳转到该事件的详情页面，上方界面显示源、目的资产信息、事件信息、告警行为详细时序图及特征分析数据。&lt;/p>
&lt;p>&lt;img src="./mine4.png" alt="mine4">&lt;/p>
&lt;p>滚动到该事件详情界面最下方，显示TCP主动握手时序特征图和事件特征列表。点击事件列表最左侧的展开按钮，可以查看其指纹匹配特征数据， 如下图所示，mining.subscribe表明是使用stratum协议进行挖矿通信的订阅阶段。
&lt;img src="./mine5.png" alt="mine5">&lt;/p>
&lt;h2 id="挖矿防御建议">挖矿防御建议 &lt;a class="header-link" href="#%e6%8c%96%e7%9f%bf%e9%98%b2%e5%be%a1%e5%bb%ba%e8%ae%ae">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;ol>
&lt;li>及时修复漏洞，防止被植入挖矿恶意程序&lt;/li>
&lt;li>避免访问来源不明的网站和邮件链接&lt;/li>
&lt;li>加强网络监测，检测挖矿行为，对相关告警及时处置&lt;/li>
&lt;/ol>
&lt;h2 id="结语">结语 &lt;a class="header-link" href="#%e7%bb%93%e8%af%ad">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影基于情报和深度包检测技术，实现挖矿行为的实时监测和及时告警，并将挖矿行为特征以可视化的方式呈现，帮助用户快速定性，有效缩短分析响应时间，能够大大提高挖矿事件的处置效率。&lt;/p>
&lt;h2 id="相关信息">相关信息 &lt;a class="header-link" href="#%e7%9b%b8%e5%85%b3%e4%bf%a1%e6%81%af">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影广泛适用于各种网络安全防护场景，包括不限于入侵检测、威胁狩猎、攻防演练、网络证据留存、网络行为调查分析、态势感知等，如果有商务定制需求，欢迎联系合作。欢迎大家部署使用和反馈，更加欢迎大家积极参与项目贡献。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://abyssalfish-os.github.io/">流影项目主页&lt;/a>&lt;/li>
&lt;li>邮箱：opensource@abyssalfish.com.cn&lt;/li>
&lt;li>扫码进入微信讨论群
&lt;figure style="padding: 0.25rem; margin: 2rem 0; ">
&lt;img style="max-width: 100%; width: auto; height: auto;" src="https://abyssalfish-os.github.io/news/mining/wx_group_hu382f7d8cb587e8fa5dc30ffe17d00f19_29687_256x0_resize_catmullrom_3.png" width="256" height="249">
&lt;/figure>
&lt;/li>
&lt;/ul></description></item><item><title>News: 流影之网络扫描行为发现</title><link>https://abyssalfish-os.github.io/news/netscan/</link><pubDate>Mon, 27 Feb 2023 00:00:00 +0800</pubDate><guid>https://abyssalfish-os.github.io/news/netscan/</guid><description>
&lt;h2 id="前言">前言 &lt;a class="header-link" href="#%e5%89%8d%e8%a8%80">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影已经开源2个月左右，陆陆续续收到了大家的一些安装使用反馈，其中不乏一些很好的建议，例如录制教学视频、制作docker镜像或虚拟机、增加大屏展示等。
这些方面我们已经开始跟进，有些已经列入后续工作计划。需要说明的是，由于目前人力有限，相关工作推进不如预期那么快。同时，我们欢迎大家积极参与这个开源项目并积极贡献，壮大社区力量，从而不断推动流影完善迭代。&lt;/p>
&lt;p>为了使大家了解流影的功能，我们会不定期发布一些使用介绍使用方面的blog。之前已经发布过一篇介绍&lt;a href="https://abyssalfish-os.github.io/news/ti/">流影中应用威胁情报&lt;/a>的文章，没有看过的伙伴可以浏览一下。本文是第二篇介绍性文章，主要讲解通过流影发现网络扫描行为的使用，相关规则配置方法。&lt;/p>
&lt;h2 id="网络扫描简介">网络扫描简介 &lt;a class="header-link" href="#%e7%bd%91%e7%bb%9c%e6%89%ab%e6%8f%8f%e7%ae%80%e4%bb%8b">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>网络扫描是实现网络目标信息收集的重要手段之一，是一种十分常见的网络行为。网络扫描不一定都是恶意行为，主要看使用者的目的。
一方面，安全人员合理使用网络扫描进行服务监测、网络资产盘点、辅助内网漏洞扫描发现等行为，都是良性的正常行为；另一方面，
黑客或攻击者在实施网络攻击的过程中，会不断通过网络扫描技术收集攻击目标信息、扫描目标漏洞，为实施后续攻击做准备，这种网络扫描是恶意的，有可能对目标造成威胁，是需要重点关注的网络扫描行为。&lt;/p>
&lt;p>黑客进行网络扫描的过程，一般是踩点后发现目标的存活主机，收集目标主机操作系统信息、开放端口、运行服务的版本信息、网络拓扑，进而发现目标漏洞和脆弱性。以便后续开展漏洞利用，进入目标网络达成攻击。&lt;/p>
&lt;h3 id="常见扫描工具">常见扫描工具 &lt;a class="header-link" href="#%e5%b8%b8%e8%a7%81%e6%89%ab%e6%8f%8f%e5%b7%a5%e5%85%b7">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;p>扫描工具以主动式为主，一般过程是主动向扫描目标发送探测包，收集响应包，根据响应指纹匹配，最后输出扫描结果。
如Nmap是一款开源的扫描工具，能够快速的扫描大范围的设备并且能提供比较全面的关于网络目标的信息。Nmap扫描探测示例：&lt;/p>
&lt;p>&lt;img src="./nmap_port.png" alt="IP_nmap_port">&lt;/p>
&lt;p>&lt;img src="./nmap_sample.png" alt="IP_namp">&lt;/p>
&lt;p>其他扫描工具，如Zmap、masscan、rustscan等也是类似于nmap的扫描工具。Nessus是一个功能强大而又简单易用的网络安全扫描工具，可以扫描选定范围内的主机的端口开放情况、提供的服务、是否存在安全漏洞等。&lt;/p>
&lt;h2 id="使用流影分析网络扫描行为">使用流影分析网络扫描行为 &lt;a class="header-link" href="#%e4%bd%bf%e7%94%a8%e6%b5%81%e5%bd%b1%e5%88%86%e6%9e%90%e7%bd%91%e7%bb%9c%e6%89%ab%e6%8f%8f%e8%a1%8c%e4%b8%ba">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影基于扫描特征统计技术，实现网络扫描行为发现。支持扫描行为识别规则自定义配置，并对网络扫描行为进行了可视化呈现，让用户一眼就能确定网络扫描行为。&lt;/p>
&lt;p>流影中扫描事件包括IP扫描和端口扫描两类。&lt;/p>
&lt;ul>
&lt;li>IP扫描：针对一个IP地址的扫描行为，主要特征是目标IP上大范围端口的探测，一定时间窗口内出现大量相同特征的探测包。攻击场景下，这种扫描行为说明目标很明确，正在寻求突破口。&lt;/li>
&lt;li>端口扫描：针对部分端口（服务）的扫描，主要特征是目标是一个IP段或者范围，一定时间窗口内出现大量相同特征的探测包。攻击场景下，这种扫描行为可能说明攻击者掌握某个服务的漏洞，正在广泛搜集可入侵的目标。&lt;/li>
&lt;/ul>
&lt;h3 id="如何在流影中查看和判定网络扫描行为">如何在流影中查看和判定网络扫描行为 &lt;a class="header-link" href="#%e5%a6%82%e4%bd%95%e5%9c%a8%e6%b5%81%e5%bd%b1%e4%b8%ad%e6%9f%a5%e7%9c%8b%e5%92%8c%e5%88%a4%e5%ae%9a%e7%bd%91%e7%bb%9c%e6%89%ab%e6%8f%8f%e8%a1%8c%e4%b8%ba">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;p>登录系统后，点击事件主菜单，进入事件告警界面。如果系统已经发现了扫描事件，在筛选区的“事件类型”下，会显示IP扫描和端口扫描的复选标签项。如果没有标签项，说明暂无相关事件类型。如下图所示，表明系统检出了多种类型的事项，两种扫描行为都有事件，可以选中多种事件类型，系统相应进行关联筛选。
&lt;img src="./ip_port.png" alt="扫描事件">
柱状图显示事件源和目的事件排行，饼状图显示事件分布情况，最下方是事件列表信息。
&lt;img src="./ip_port_1.png" alt="扫描事件1">
点击事件ID可以查看该告警事件详情信息，包括源、目的基本信息、事件时序特征和数据特征，如下图所示：
&lt;img src="./ip_scan_1.png" alt="扫描事件2">
对TCP会显示主动握手的时序分布图，从左到右显示源、发生时间、数据包字节大小、流的数量、数据包个数、目的端口分布、目的地址，并显示扫描相关特征列表，让用户一眼就能看懂，辅助对这个事件进行判定。如下图所示，某个ip上的高位端口范围上有大量特征相同的数据包，表明进行了扫描探测。
&lt;img src="./ip_scan_2.png" alt="扫描事件3">&lt;/p>
&lt;p>返回事件列表，选择一个端口扫描的事件进行详情查看，如下图所示：
&lt;img src="./port_scan_1.png" alt="端口扫描">&lt;/p>
&lt;p>从时序图可以明显看出其扫描行为的分布情况：
&lt;img src="./port_scan_2.png" alt="端口扫描2">&lt;/p>
&lt;p>最下方的列表显示行为统计特征信息：
&lt;img src="./port_scan_3.png" alt="端口扫描2">&lt;/p>
&lt;h3 id="自定义扫描识别规则配置">自定义扫描识别规则配置 &lt;a class="header-link" href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e6%89%ab%e6%8f%8f%e8%af%86%e5%88%ab%e8%a7%84%e5%88%99%e9%85%8d%e7%bd%ae">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;p>系统支持对两种扫描行为的规则自定义配置。（管理员用户）登录系统后，点击配置主菜单，选择“规则”子菜单，进入规则配置与查看界面。
&lt;img src="./scan_config.png" alt="端口扫描2">
管理员权限的用户可以进行规则维护。配置参数请参见&lt;a href="https://abyssalfish-os.github.io/user-manual/peizhi/#ip%e6%89%ab%e6%8f%8f">使用文档&lt;/a>。&lt;/p>
&lt;h2 id="网络扫描防护建议">网络扫描防护建议 &lt;a class="header-link" href="#%e7%bd%91%e7%bb%9c%e6%89%ab%e6%8f%8f%e9%98%b2%e6%8a%a4%e5%bb%ba%e8%ae%ae">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>为了防范恶意网络扫描的危害，建议综合进行以下措施：&lt;/p>
&lt;ol>
&lt;li>减少端口开放，加强系统防护&lt;/li>
&lt;li>端口伪装，进行信息欺骗&lt;/li>
&lt;li>实时监测扫描行为，及时告警和处置&lt;/li>
&lt;/ol>
&lt;h2 id="结语">结语 &lt;a class="header-link" href="#%e7%bb%93%e8%af%ad">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>在网络安全防护的场景下，尽早的发现黑客的扫描活动，才能及时采取措施，阻断黑客进一步实施后续攻击和破坏，避免损失。&lt;/p>
&lt;p>流影可以感知网络扫描行为，支持用户自定义配置检测规则，及时发出网络扫描行为告警，并将扫描行为特征以可视化的方式呈现，帮助用户快速判定，大大减少分析响应时间，提高分析处理效率。&lt;/p>
&lt;h2 id="其他信息">其他信息 &lt;a class="header-link" href="#%e5%85%b6%e4%bb%96%e4%bf%a1%e6%81%af">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://abyssalfish-os.github.io/">开源流影项目主页&lt;/a>&lt;/li>
&lt;li>邮箱：opensource@abyssalfish.com.cn&lt;/li>
&lt;li>扫码进入微信讨论群
&lt;figure style="padding: 0.25rem; margin: 2rem 0; ">
&lt;img style="max-width: 100%; width: auto; height: auto;" src="https://abyssalfish-os.github.io/news/netscan/wx_group_hu382f7d8cb587e8fa5dc30ffe17d00f19_29687_256x0_resize_catmullrom_3.png" width="256" height="249">
&lt;/figure>
&lt;/li>
&lt;/ul></description></item><item><title>News: ESXi环境流量镜像设置</title><link>https://abyssalfish-os.github.io/news/exsi/</link><pubDate>Mon, 20 Feb 2023 00:00:00 +0800</pubDate><guid>https://abyssalfish-os.github.io/news/exsi/</guid><description>
&lt;h1 id="esxi环境镜像流量接入">ESXi环境镜像流量接入&lt;/h1>
&lt;h2 id="前言">前言 &lt;a class="header-link" href="#%e5%89%8d%e8%a8%80">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>近期有小伙伴们在微信交流群里询问了流量接入的问题，本文以ESXi环境下流量接入配置为例进行说明。
本文主要演示如何将外部或内部的流量，接入到ESXi管理的某台虚拟机的虚拟网卡上（流量采集节点）。
用户可以参考，并根据自身实际环境进行流量接入的设置。&lt;/p>
&lt;h3 id="外部流量镜像接入">外部流量镜像接入 &lt;a class="header-link" href="#%e5%a4%96%e9%83%a8%e6%b5%81%e9%87%8f%e9%95%9c%e5%83%8f%e6%8e%a5%e5%85%a5">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;p>外部流量镜像接入过程可以概括为：接入待分析流量数据到物理网卡，新建虚拟交换机（vSwitch）接入从物理网卡（vmnic）采集到的数据，新建端口组（Network）建立虚拟交换机上的对外接口，再到分析平台所在虚拟机新建虚拟机网卡（vm）接入流量数据。
具体操作步骤如下：&lt;/p>
&lt;ol>
&lt;li>在网络管理页面，网络标签下，新建虚拟交换机（图中vSwitch3-Mirror），配置“上行链路”为已接入流量的物理网卡（图中vmnic4）。“安全”标签下，虚拟交换机的“允许混杂模式”配置为“是”。&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://abyssalfish-os.github.io/img/esxi/esxi_1.png" alt="esxi_1">&lt;/p>
&lt;ol start="2">
&lt;li>在网络管理页面，新建端口组（图中Mirror1），绑定到接入流量的虚拟交换机（图中vSwitch3-Mirror）。“安全”标签下端口组的“允许混杂模式”配置为“接受”。&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://abyssalfish-os.github.io/img/esxi/esxi_2.png" alt="esxi_2">&lt;/p>
&lt;ol start="3">
&lt;li>在运行分析程序的虚拟机的管理页面，添加网络适配器，绑定到流量镜像端口组（图中Mirror1）。&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://abyssalfish-os.github.io/img/esxi/esxi_3.png" alt="esxi_3">&lt;/p>
&lt;p>至此，从外部流量镜像到虚拟机网卡的配置完毕，虚拟交换机上网络链接关系如下图所示：&lt;/p>
&lt;p>&lt;img src="https://abyssalfish-os.github.io/img/esxi/esxi_4.png" alt="esxi_4">&lt;/p>
&lt;h3 id="从内部接入流量镜像">从内部接入流量镜像 &lt;a class="header-link" href="#%e4%bb%8e%e5%86%85%e9%83%a8%e6%8e%a5%e5%85%a5%e6%b5%81%e9%87%8f%e9%95%9c%e5%83%8f">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;p>内部流量镜像接入过程可以概括为：找到待分析流量数据所在虚拟交换机，在虚拟交换机（vSwitch）新建一个端口组（Network）用作流量采集，再把虚拟机网卡（vm）接入这个端口组采集数据。
具体操作步骤如下：&lt;/p>
&lt;ol>
&lt;li>在网络管理页面，定位到待分析目标流量所在的虚拟交换机（vSwitch/vDSwitch），记录该虚拟交换机名称（图中vSwitch1-LAN），进入该虚拟交换机配置页面，将该虚拟交换机的“允许混杂模式”配置为“是”。&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://abyssalfish-os.github.io/img/esxi/esxi_5.png" alt="esxi_5">&lt;/p>
&lt;ol start="2">
&lt;li>在网络管理页面，新建端口组（图中MirrorLAN），绑定到接入流量的虚拟交换机（图中vSwitch1-LAN）。“安全”标签下端口组的“允许混杂模式”配置为“接受”。&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://abyssalfish-os.github.io/img/esxi/esxi_6.png" alt="esxi_6">&lt;/p>
&lt;ol start="3">
&lt;li>在运行分析程序的虚拟机的管理页面，添加网络适配器，绑定到流量镜像端口组（图中MirrorLAN）。&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://abyssalfish-os.github.io/img/esxi/esxi_7.png" alt="esxi_7">&lt;/p>
&lt;p>至此，从内部流量镜像到虚拟机网卡的配置完毕，虚拟交换机上网络链接关系如下图所示：&lt;/p>
&lt;p>&lt;img src="https://abyssalfish-os.github.io/img/esxi/esxi_8.png" alt="esxi_8">&lt;/p>
&lt;p>进入流量分析平台所在虚拟机操作系统，配置新网卡进入混杂模式，从该网卡即可采集到流量镜像数据。&lt;/p>
&lt;h2 id="后语">后语 &lt;a class="header-link" href="#%e5%90%8e%e8%af%ad">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>本文以ESXi环境下流量镜像如何配置接入采集节点，进行了简要说明。
用户的网络环境可能复杂多样，流量接入需要根据实际情况具体配置。&lt;/p>
&lt;p>流影定位于轻量级的网络安全态势感知与可视化分析平台，开源版本集成了流量探针、网络行为分析引擎、威胁检测引擎和交互式可视化分析引擎四个核心模块，
实现了对网络流量全方位监测、网络行为多维度特征提取留存和网络威胁行为实时告警等基本功能。我们欢迎大家的使用反馈，特别是积极参与项目贡献。如果用户有商业定制化需求，也欢迎进行联系合作。&lt;/p>
&lt;h2 id="反馈">反馈 &lt;a class="header-link" href="#%e5%8f%8d%e9%a6%88">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>如果有问题，欢迎通过邮件或者微信群进行反馈。&lt;/p>
&lt;ul>
&lt;li>邮箱：opensource@abyssalfish.com.cn&lt;/li>
&lt;li>扫码进入微信讨论群
&lt;figure style="padding: 0.25rem; margin: 2rem 0; ">
&lt;img style="max-width: 100%; width: auto; height: auto;" src="https://abyssalfish-os.github.io/news/exsi/wx_group_hu382f7d8cb587e8fa5dc30ffe17d00f19_29687_256x0_resize_catmullrom_3.png" width="256" height="249">
&lt;/figure>
&lt;/li>
&lt;/ul></description></item><item><title>News: 流影虚拟机镜像</title><link>https://abyssalfish-os.github.io/news/vmdownload/</link><pubDate>Sun, 12 Feb 2023 00:00:00 +0800</pubDate><guid>https://abyssalfish-os.github.io/news/vmdownload/</guid><description>
&lt;h1 id="流影vmware镜像">流影Vmware镜像&lt;/h1>
&lt;h2 id="前言">前言 &lt;a class="header-link" href="#%e5%89%8d%e8%a8%80">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影开源发布后，近期不断收到小伙伴们安装部署和试用反馈，首先感谢大家的反馈和建议。
为了减低安装试用的门槛，我们制作了Vmware虚拟镜像，方便大家快速安装试用。&lt;/p>
&lt;h2 id="vmware虚拟机镜像">Vmware虚拟机镜像 &lt;a class="header-link" href="#vmware%e8%99%9a%e6%8b%9f%e6%9c%ba%e9%95%9c%e5%83%8f">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>镜像下载信息如下：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://pan.baidu.com/s/1kf_IniICZv2jbOeAQ02CdQ">镜像下载地址&lt;/a>&lt;/li>
&lt;li>提取码：AFOS&lt;/li>
&lt;/ul>
&lt;p>虚拟机相关信息如下：&lt;/p>
&lt;ul>
&lt;li>虚拟机用户名root，密码ShyLiuying&lt;/li>
&lt;/ul>
&lt;aside class="admonition note">
&lt;div class="note-icon">
&lt;/div>
&lt;div class="admonition-content">&lt;p>制作vmware镜像的软件是macos下的VMware Fusion 10.1。虚拟机镜像在各个平台的版本对应关系：&lt;/p>
&lt;ul>
&lt;li>对应 Windows 下的VMware Workstation 14&lt;/li>
&lt;li>对应服务器软件是VMware vSphere 6.5&lt;/li>
&lt;/ul>
&lt;p>理论上使用这些版本（或更新的版本）加载虚拟机镜像，应该都可以兼容并运行。&lt;/p>
&lt;/div>
&lt;/aside>
&lt;p>虚拟机安装后，流影前端默认使用18080端口，访问地址及默认账号：&lt;/p>
&lt;ul>
&lt;li>访问地址：http://ip:18080/ui&lt;/li>
&lt;li>登录管理员账号：admin，密码LoginLY@2016&lt;/li>
&lt;/ul>
&lt;h2 id="镜像安装视频">镜像安装视频 &lt;a class="header-link" href="#%e9%95%9c%e5%83%8f%e5%ae%89%e8%a3%85%e8%a7%86%e9%a2%91">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;div style="margin: 10px 0 20px 0;">
&lt;div style="position:relative; padding-bottom:75%; width:100%; height:0">
&lt;iframe src="//player.bilibili.com/player.html?bvid=BV1Mg4y1g7nT&amp;page=1"
scrolling="no" border="0"
frameborder="no"
framespacing="0"
allowfullscreen="true"
style="position:absolute; height: 100%; width: 100%;">
&lt;/iframe>
&lt;/div>
&lt;div style="margin: 5px 0;">
&lt;span>更多视频，请点击跳转 &lt;strong>Bilibili&lt;/strong>进行观看&lt;/span>
&lt;a href="https://space.bilibili.com/3493262893517732">流影教学视频&lt;/a>
&lt;/div>
&lt;/div>
&lt;h2 id="后语">后语 &lt;a class="header-link" href="#%e5%90%8e%e8%af%ad">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影定位于轻量级的网络安全态势感知与可视化分析平台，开源版本集成了流量探针、网络行为分析引擎、威胁检测引擎和交互式可视化分析引擎四个核心模块，
实现了对网络流量全方位监测、网络行为多维度特征提取留存和网络威胁行为实时告警等基本功能。&lt;/p>
&lt;p>软件定制化成本高昂，特别是网络安全软件产品更是如此，一方面是用户需求多样，另一方面是网络安全攻防技术发展变化迅速。
而流影具有灵活可扩展的特点，支持根据用户需求和技术更新的定制化功能扩展。
通过开源，一方面希望得到广大潜在需求用户的试用反馈，深入了解用户网络安全方面相关需求及产品使用方面的建议；
另一方面，希望广大感兴趣的研发人员能够参与进来，博采众长，吸收大家的安全实践经验和新技术，形成良性循环发展，不断迭代完善。&lt;/p>
&lt;p>我们欢迎大家的使用反馈，特别是积极参与项目贡献。如果用户有商业定制化需求，也欢迎进行联系合作。&lt;/p>
&lt;h2 id="反馈">反馈 &lt;a class="header-link" href="#%e5%8f%8d%e9%a6%88">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>如果有问题，欢迎通过邮件或者微信群进行反馈。&lt;/p>
&lt;ul>
&lt;li>邮箱：opensource@abyssalfish.com.cn&lt;/li>
&lt;li>扫码进入微信讨论群
&lt;figure style="padding: 0.25rem; margin: 2rem 0; ">
&lt;img style="max-width: 100%; width: auto; height: auto;" src="https://abyssalfish-os.github.io/news/vmdownload/wx_group_hu382f7d8cb587e8fa5dc30ffe17d00f19_29687_256x0_resize_catmullrom_3.png" width="256" height="249">
&lt;/figure>
&lt;/li>
&lt;/ul></description></item><item><title>News: 流影概览</title><link>https://abyssalfish-os.github.io/news/introduction/</link><pubDate>Mon, 06 Feb 2023 00:00:00 +0800</pubDate><guid>https://abyssalfish-os.github.io/news/introduction/</guid><description>
&lt;h1 id="流影概览">流影概览&lt;/h1>
&lt;h2 id="引言">引言 &lt;a class="header-link" href="#%e5%bc%95%e8%a8%80">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影开源发布已经过去两个月，陆陆续续有小伙伴已经进行了安装部署和试用反馈。
在这里首先对大家的参与表示欢迎，对安装使用中给出的反馈建议表示感谢。
为了让大家对流影有一个总体的认识和了解，
撰写此文，对流影进行系统全面的概括性介绍。&lt;/p>
&lt;h2 id="简介">简介 &lt;a class="header-link" href="#%e7%ae%80%e4%bb%8b">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影是面向全行业用户的下一代网络安全威胁检测与分析产品，
其定位是一个轻量级的网络安全态势感知与可视化分析平台。
该系统集成了流量探针、网络行为分析引擎、威胁检测引擎和交互式可视化分析引擎四个核心模块，
实现了对网络流量全方位监测、网络行为多维度特征提取留存、
网络资产被动测绘画像和网络威胁行为实时告警等基本功能。
流影适用于各种网络安全防护场景，包括不限于入侵检测、威胁狩猎、攻防演练、网络证据留存、网络行为调查分析、态势感知等。&lt;/p>
&lt;p>&lt;img src="https://abyssalfish-os.github.io/images/liuying/ly_structure.png" alt="流影架构">&lt;/p>
&lt;p>开源版流影功能已经比较全面，基本能够满足中小型用户的网络安全防护需求。
流影开源版本功能丰富且灵活可拓展；可视化界面图表丰富，易于使用；部署高效，运维成本低。
使用流影，能够有效避免以往多种网络安全产品堆砌带来的高成本、运维难度大等方面问题。
不仅能显著提升各位用户的网络安全防护水平，还能够降低用户安装部署、运维等方面的成本。&lt;/p>
&lt;p>需要说明的是，流影也有商业版本，商业版可以满足用户的高阶定制化网络安全防护需求。
商业版本流影已经可供交付使用，能够提供更丰富的功能，并且集成了更全面的威胁行为指纹特征库及威胁情报数据。大家如果有商务合作需求，可以联系我们。&lt;/p>
&lt;h2 id="核心技术概览">核心技术概览 &lt;a class="header-link" href="#%e6%a0%b8%e5%bf%83%e6%8a%80%e6%9c%af%e6%a6%82%e8%a7%88">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;ul>
&lt;li>数据可视化：数据时序、地理位置、聚类呈现，支持交互式探索、追溯与挖掘&lt;/li>
&lt;li>机器学习：支持基于tensorflow的检测模型&lt;/li>
&lt;li>基于统计的经验模型：统计分析结合专家经验&lt;/li>
&lt;li>威胁情报：集成威胁情报支持&lt;/li>
&lt;li>网络流量采集与解析：流量定制采集与Netflow支持&lt;/li>
&lt;li>深度包检测与网络流分析：支持指纹规则匹配、会话特征提取留存&lt;/li>
&lt;/ul>
&lt;h2 id="主要功能概览">主要功能概览 &lt;a class="header-link" href="#%e4%b8%bb%e8%a6%81%e5%8a%9f%e8%83%bd%e6%a6%82%e8%a7%88">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;ol>
&lt;li>安全告警检测&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>内置多种场景，包括扫描、风险访问、威胁访问、C&amp;amp;C 通 讯、挖矿行为、后门利用、隧道通信、服务器异常、注入等。 场景内部包含近 40 种识别模型&lt;/li>
&lt;li>支持自定义业务安全场景&lt;/li>
&lt;/ul>
&lt;ol start="2">
&lt;li>安全告警研判&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>关键证据留存&lt;/li>
&lt;li>相关设备分析&lt;/li>
&lt;li>攻击模式分析&lt;/li>
&lt;/ul>
&lt;ol start="3">
&lt;li>安全告警溯源&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>威胁情报查询&lt;/li>
&lt;li>多维设备画像&lt;/li>
&lt;li>历史行为检索&lt;/li>
&lt;/ul>
&lt;ol start="4">
&lt;li>被动资产识别&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>活跃IP：活跃时间、流量&lt;/li>
&lt;li>活跃端口：服务类型、中间件、设备类型、应用系统、操作系统等信息&lt;/li>
&lt;li>活跃网址：活跃时间、流量、响应码&lt;/li>
&lt;li>资产关联分布图&lt;/li>
&lt;/ul>
&lt;ol start="5">
&lt;li>其他功能&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>威胁态势概览&lt;/li>
&lt;li>重点目标监控&lt;/li>
&lt;li>常规网络行为识别&lt;/li>
&lt;/ul>
&lt;h2 id="系统特性概览">系统特性概览 &lt;a class="header-link" href="#%e7%b3%bb%e7%bb%9f%e7%89%b9%e6%80%a7%e6%a6%82%e8%a7%88">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;ul>
&lt;li>基于行为识别威胁：有效发现已知威胁、N-day、未知威胁、APT、内部威胁&lt;/li>
&lt;li>精准、精简的告警：从识别层、验证层、分析层、业务层自主进行去重、去伪&lt;/li>
&lt;li>人脑 &amp;amp; 机器结合：在高级威胁的检测分析中，人的参与则是必不可少的，机器是扮演辅助工具的角色，为用户提供证据线索，提升威胁检测分析效率&lt;/li>
&lt;li>提升认知，快速响应：系统中的每一次告警都能解释清楚，并且有据可依，让安全运营人员“知其然，亦知其所以然”&lt;/li>
&lt;/ul>
&lt;h2 id="应用场景">应用场景 &lt;a class="header-link" href="#%e5%ba%94%e7%94%a8%e5%9c%ba%e6%99%af">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影应用场景包括不限于以下方面：&lt;/p>
&lt;ul>
&lt;li>网络攻击威胁检测&lt;/li>
&lt;li>网络安全攻防演练&lt;/li>
&lt;li>重点目标网络流量监测&lt;/li>
&lt;li>数字加密货币挖矿检测&lt;/li>
&lt;li>网络隐蔽隧道通信发现&lt;/li>
&lt;li>网络异常服务发现&lt;/li>
&lt;li>异常数据流动：数据定向流动、跨境传输&lt;/li>
&lt;li>网络行为监测与调查&lt;/li>
&lt;li>高价值网络行为痕迹证据留存&lt;/li>
&lt;/ul>
&lt;h2 id="结语">结语 &lt;a class="header-link" href="#%e7%bb%93%e8%af%ad">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>本文从架构、技术、功能、应用等方面，对流影进行了概要性介绍，帮助读者对流影有一个整体认识。
本文并没有深入相关细节，如需深入了解，请查看流影&lt;a href="https://abyssalfish-os.github.io/documentation/">文档&lt;/a>。同时我们提供了线上演示Demo，便于您快速上手试用，您可以通过以下链接和演示账号登录试用：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://101.254.236.75:14180/ui/#/login">流影Demo&lt;/a>&lt;/li>
&lt;li>Demo账号：demo&lt;/li>
&lt;li>Demo口令：demo@2022&lt;/li>
&lt;/ul>
&lt;p>欢迎大家使用反馈，并且积极参与项目贡献。&lt;/p>
&lt;h2 id="联系反馈">联系反馈 &lt;a class="header-link" href="#%e8%81%94%e7%b3%bb%e5%8f%8d%e9%a6%88">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>如果有问题，欢迎通过邮件或者微信群进行反馈。&lt;/p>
&lt;ul>
&lt;li>邮箱：opensource@abyssalfish.com.cn&lt;/li>
&lt;li>扫码进入微信讨论群
&lt;figure style="padding: 0.25rem; margin: 2rem 0; ">
&lt;img style="max-width: 100%; width: auto; height: auto;" src="https://abyssalfish-os.github.io/news/introduction/wx_group_hu382f7d8cb587e8fa5dc30ffe17d00f19_29687_256x0_resize_catmullrom_3.png" width="256" height="249">
&lt;/figure>
&lt;/li>
&lt;/ul></description></item><item><title>News: 威胁情报在流影中的应用实践</title><link>https://abyssalfish-os.github.io/news/ti/</link><pubDate>Wed, 11 Jan 2023 00:00:00 +0800</pubDate><guid>https://abyssalfish-os.github.io/news/ti/</guid><description>
&lt;p>&lt;img src="./ti_info.png" alt="示意图">&lt;/p>
&lt;p>流影是开源的基于流量的网络行为可视化分析平台，功能架构灵活可扩展。
威胁情报在安全检测与防御的实践应用中能够发挥很大作用。
流影支持多种网络威胁行为的检测方式，也支持威胁情报这种基本的检测方式。
流影通过威胁情报的集成应用，方便用户能够灵活接入自产或采购的情报数据，
实现基于情报的威胁检测告警、威胁分析功能。&lt;/p>
&lt;p>为了更好的让用户了解威胁情报在流影中的应用，撰写此文，主要涵盖以下方面内容：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="#%E5%A8%81%E8%83%81%E6%83%85%E6%8A%A5%E6%A6%82%E8%BF%B0">威胁情报概述，对齐威胁情报的理解和术语&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E5%9F%BA%E4%BA%8E%E6%83%85%E6%8A%A5%E7%9A%84%E5%A8%81%E8%83%81%E8%A1%8C%E4%B8%BA%E6%A3%80%E6%B5%8B%E5%8A%9F%E8%83%BD">在流影中查看威胁情报告警事件&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E6%B5%81%E5%BD%B1%E9%9B%86%E6%88%90%E6%83%85%E6%8A%A5%E6%A3%80%E7%B4%A2%E5%8A%9F%E8%83%BD%E6%94%AF%E6%8C%81%E5%A8%81%E8%83%81%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90">使用流影集成情报检索功能进行威胁行为分析&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E6%B5%81%E5%BD%B1%E4%BA%A7%E5%87%BA%E5%A8%81%E8%83%81%E6%83%85%E6%8A%A5">通过流影生产威胁情报&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="威胁情报概述">威胁情报概述 &lt;a class="header-link" href="#%e5%a8%81%e8%83%81%e6%83%85%e6%8a%a5%e6%a6%82%e8%bf%b0">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>威胁情报的概念自从Gartner提出后，迅速兴起和备受安全领域各界关注，应用发展至今已经大概10年之久，
威胁情报在世界各行业、组织机构的安全发展过程中的确发挥了很大作用，这个过程其实体现了数据驱动各种生产力发展的大浪潮。&lt;/p>
&lt;p>威胁情报目前仍然是国内外安全领域研究和应用的热点，相关市场份额逐年增高。
威胁情报应用比较广泛，当前许多安全产品或者解决方案的介绍中，都能发现威胁情报的身影。
经过近10多年的发展应用，目前各行业的安全从业人员对威胁情报的概念都比较熟悉或者了解了，
对威胁情报的作用有了比较深刻的感受，大部分中大型企业基本都建立了自己的威胁情报运营中心，
或者将威胁情报数据加入了年度预算进行采购。&lt;/p>
&lt;p>为了对齐大家对威胁情报的理解，下面首先对威胁情报做一个简单的概要介绍。&lt;/p>
&lt;h3 id="威胁情报含义">威胁情报含义 &lt;a class="header-link" href="#%e5%a8%81%e8%83%81%e6%83%85%e6%8a%a5%e5%90%ab%e4%b9%89">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;p>威胁情报目前并没有统一明确的定义，而且不同的时期、
不同的厂商和不同研究人员对其定义或者描述不尽相同。&lt;/p>
&lt;ul>
&lt;li>Gartner在2013年提出威胁情报给出了初始定义，
而后在2014年Gartner的 《Market Guide for Security Threat Intelligence Service》
（安全威胁情报服务市场指南）报告中又进行了简单修订：
威胁情报是一种基于证据的知识，包括情境、机制、指标、影响和操作建议等方面。
威胁情报描述了已经发现的、或者将来会出现的威胁或危险，并可以用于通知主体针对相关威胁或危险采取某种响应。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Threat intelligence is evidence-based knowledge, including context,
mechanisms, indicators, implications and actionable advice,
about an existing or emerging menace or hazard to assets
that can be used to inform decisions regarding the subject&amp;rsquo;s
response to that menace or hazard.&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>2015年，Jon Friedman和Mark Bouchard 发表的《Definitive Guide to Cyber Threat Intelligence》
（网络威胁情报权威指南）白皮书中对威胁情报的定义：威胁情报是通过各种方式收集、分析、传播扩散的关于攻击者的动机、企图和方法的知识，
使得各层级的安全和业务职员用来保护企业关键资产。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Cyber threat intelligence is knowledge about adversaries and their motivations, intentions, and methods that is collected, analyzed,
and disseminated in ways that help security and business staf
at all levels protect the critical assets of the enterprise.&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>美国SANS研究院对其定义：威胁情报是关于安全威胁、恶意攻击者、漏洞利用、恶意软件、漏洞信息和攻陷指标等方面，
所收集的用于评估和应用的数据集。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Threat intelligence is the set of data collected,
assessed and applied regarding security threats,
malicious actors, exploits, malware, vulnerabilities and compromise indicators.&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>咨询公司Forrester对其描述：威胁情报是针对内部和外部威胁源的动机、意图和能力、
内外部攻击组织的详细叙述，包括了敌手使用的技战术（TTPs）。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Threat intelligence is details of motivations, intents, and capabilities of
internel and external threats actors. TI includes sepecifics on the TTPs of these adversaries.&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>安全厂商CrowdStrike的描述：威胁情报是为了理解威胁攻击者的动机、目标和攻击行为而收集、处理和分析的数据。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Threat intelligence is data that is collected, processed,
and analyzed to understand a threat actor&amp;rsquo;s motives, targets, and attack behaviors.&lt;/p>
&lt;/blockquote>
&lt;p>从上面可以看出，有的定义比较宽泛，有的相对具体和狭义。
广义上的威胁情报，基本可以说是普遍的网络安全情报，内容比较宽泛，包括不限于（狭义的）威胁情报、资产情报、
漏洞情报、安全事件情报及基础信息知识情报等方面内容。&lt;/p>
&lt;p>&lt;img src="./ti_def.png" alt="网络安全情报">&lt;/p>
&lt;p>在安全行业业内，大多数情况下所说的威胁情报指的是狭义的威胁情报，
主要是攻击者相关的信息、动机、目标、攻击技战术、失陷指示器IOC（Indicators of Compromise）等。
特别地，在威胁行为检测场景下，其主要内容特指用于识别和检测威胁的失陷指示器IOC，
如文件 HASH、IP、域名、程序运行路径、注册表项等低层次技术级威胁情报。
本文后面所述威胁情报，如果没有特别说明，一般也是指狭义的威胁情报，在检测场景下也特指威胁情报相关IOC。&lt;/p>
&lt;h3 id="威胁情报用途和分类">威胁情报用途和分类 &lt;a class="header-link" href="#%e5%a8%81%e8%83%81%e6%83%85%e6%8a%a5%e7%94%a8%e9%80%94%e5%92%8c%e5%88%86%e7%b1%bb">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;p>威胁情报已经广泛被应用在威胁检测、溯源分析、主动防御和安全响应过程中。
通过应用威胁情报，能够提高安全响应的效率，
情报中的相关性和上下文信息能让安全人员快速明确哪些威胁数据是与企业信息资产和业务安全息息相关的，
可以根据威胁的影响程度合理安排响应行动的优先级。&lt;/p>
&lt;p>业界从不同的维度，对威胁情报进行了一些分类。&lt;/p>
&lt;p>&lt;img src="./ti_cate.png" alt="timg">&lt;/p>
&lt;p>威胁情报按照层次高低可以分为三类，由高至低包括战略级、战术级和技术级情报。
最高级的战略威胁情报，一般是宏观层面的战略级情报，例如攻击组织、攻击动机及目标特点等；
战术级情报也称运营级情报，主要是攻击TTP的知识库；技术级情报一般用于威胁检测实施和响应，
包括IOC（Indicators of Compromise）和 IOA（Indicators of Attack）。&lt;/p>
&lt;p>根据威胁情报来源不同，分为内部自产情报、安全厂商商业情报、社区共享情报和开源公布情报。
按照情报使用方式不同，分为机读情报和人读情报。机读情报一般是遵循某种情报数据标准的格式化数据，
可以供计算机读取，以便于进行检测或者响应的自动化集成；
人读情报一般是文章、报告或者安全事件摘要等，供人工查阅研判使用。
按照情报时效性，可以分为活跃情报和情报档案（信誉库、知识库）。
其中活跃情报是指正在或者潜在导致威胁发生的情报，供实时检测和响应使用；
情报档案是归档后的数据集，供查询分析使用。&lt;/p>
&lt;h3 id="威胁情报相关标准">威胁情报相关标准 &lt;a class="header-link" href="#%e5%a8%81%e8%83%81%e6%83%85%e6%8a%a5%e7%9b%b8%e5%85%b3%e6%a0%87%e5%87%86">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;p>威胁情报通过广泛扩散使用才能使其价值最大化。
威胁情报的扩散使用，需要各种行业、组织用户的广泛参与和情报交换共享。
情报的共享交换的基础，是建立在情报格式标准规范化及有效共享交换机制之上的。
下图列出一些威胁情报相关的国内外主要相关的标准规范。&lt;/p>
&lt;p>&lt;img src="./ti_bz.png" alt="相关标准">&lt;/p>
&lt;p>威胁情报标准化和共享机制，目前国外已经比较成熟，国内也在逐步完善之中。
美国牵头提出的一些标准包括Structured Threat Information eXpression &lt;a href="http://stixproject.github.io/">(STIX)&lt;/a>系列、
Cyber Observable eXpression &lt;a href="https://cyboxproject.github.io/">(CyboX)&lt;/a>、
联邦网络威胁信息共享指南 &lt;a href="https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-150.pdf">NIST.SP.800-150&lt;/a>、
Trusted Automated eXchange of Indicator Information &lt;a href="https://taxiiproject.github.io/">(TAXII)&lt;/a>。
还有近年来比较热门的&lt;a href="http://attack.mitre.org/">ATT&amp;amp;CK&lt;/a>框架，是一个不断完善的攻击技战术和通用知识库，
是对已知网络攻击中攻防战术和技术尽可能全面建模描述，支持STIX和TAXII规范，
适用于威胁分析建模、攻防演练、安全评估等场景，具有比较强的实战指导意义。
这些标准规范之间互相联系和支撑，能组合使用，不仅得到美国国防部、国家安全局等政府部门的赞助支持，
主要安全行业机构的也大量参与使用，具有较强的可实践性，
而且相关标准规范在应用中还在不断的迭代优化完善，有些经过1.0版本已经迭代到2.X版本。&lt;/p>
&lt;p>近年来，我国对网络安全高度重视，已经上升到国家安全战略高度。
网络信息安全相关国家、行业标准也在不断完善中。
2018年10月，我国发布了威胁情报相关的第一个国家标准《信息安全技术网络安全威胁信息格式规范》(GB/T 36643-2018) 。
2021年12月，国家信安标委发布了《网信息安全技术 网络安全信息共享指南》的征求意见稿，
可以看出威胁信息共享交换的相关标准规范也在制定当中。
从实际应用情况来看，我们的直观感受是国内威胁情报共享交换落地尚处于实践探索阶段，
相关标准有待于进一步迭代完善。
国内威胁情报厂商支持的情报格式以自定义格式居多，少部分支持国标，
但是各厂商的具体实现落地差异性较大，不太统一；
为了与国际接轨，也有部分厂商的威胁情报支持STIX系列标准规范。&lt;/p>
&lt;p>当前流影开源版已经实现威胁情报自定义格式的接入和查询，后续规划中考虑增加对符合国内外标准规范的更广泛的威胁情报的支持。&lt;/p>
&lt;h2 id="流影中应用威胁情报">流影中应用威胁情报 &lt;a class="header-link" href="#%e6%b5%81%e5%bd%b1%e4%b8%ad%e5%ba%94%e7%94%a8%e5%a8%81%e8%83%81%e6%83%85%e6%8a%a5">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>当前开源流影版本支持部分自定义格式的威胁情报接入，
集成实现了基于威胁情报的威胁行为检测告警、威胁分析、情报生产等方面的功能。&lt;/p>
&lt;h3 id="流影不只是消费威胁情报也可以生产威胁情报">流影不只是消费威胁情报，也可以生产威胁情报 &lt;a class="header-link" href="#%e6%b5%81%e5%bd%b1%e4%b8%8d%e5%8f%aa%e6%98%af%e6%b6%88%e8%b4%b9%e5%a8%81%e8%83%81%e6%83%85%e6%8a%a5%e4%b9%9f%e5%8f%af%e4%bb%a5%e7%94%9f%e4%ba%a7%e5%a8%81%e8%83%81%e6%83%85%e6%8a%a5">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;p>&lt;img src="./ti_ly.png" alt="流影和威胁情报">&lt;/p>
&lt;p>在流影中既可以消费使用威胁情报，也可以生产输出威胁情报。
威胁情报在流影中应用主要包括以下三个方面：&lt;/p>
&lt;ul>
&lt;li>基于威胁情报的检测告警，支持恶意IP和域名的检测告警&lt;/li>
&lt;li>基于情报的威胁分析，支持内外部威胁情报检索&lt;/li>
&lt;li>威胁情报生产，安全人员使用流影分析发现和确认的威胁事件后，可以输出共享威胁情报数据&lt;/li>
&lt;/ul>
&lt;p>使用和生产威胁情报，两者相辅相成，互相结合，能够形成良性循环。
一方面，通过多种威胁情报的接入，可以增强流影威胁检测发现和分析能力；
另一方面，流影其他威胁行为识别模型检测出的安全事件，经过安全人员分析确认后，
相关上下文、证据、IOC就可以作为情报输出，生成更多、更丰富的威胁情报数据。
产出的威胁情报，通过在行业内或者社区组织之间的共享交换，还可以发挥出更大的价值。&lt;/p>
&lt;h3 id="基于情报的威胁行为检测功能">基于情报的威胁行为检测功能 &lt;a class="header-link" href="#%e5%9f%ba%e4%ba%8e%e6%83%85%e6%8a%a5%e7%9a%84%e5%a8%81%e8%83%81%e8%a1%8c%e4%b8%ba%e6%a3%80%e6%b5%8b%e5%8a%9f%e8%83%bd">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h3>
&lt;p>开源流影支持威胁情报IOC的接入，基于情报检测识别威胁行为，输出安全告警事件。
其基本检测原理，是对网络流量进行关键字匹配，对匹配成功的流量上下文、特征进行提取留存，
按照时间窗口生成聚合安全告警列表。&lt;/p>
&lt;h4 id="流影接入的威胁情报ioc类型">流影接入的威胁情报IOC类型 &lt;a class="header-link" href="#%e6%b5%81%e5%bd%b1%e6%8e%a5%e5%85%a5%e7%9a%84%e5%a8%81%e8%83%81%e6%83%85%e6%8a%a5ioc%e7%b1%bb%e5%9e%8b">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h4>
&lt;p>&lt;img src="./ti_ly_ioc.png" alt="检测IOC">&lt;/p>
&lt;p>流影目前支持的IOC类型，包括恶意IP地址、Domain域名和特征指纹等技术比较成熟的情报类型。
其中IP地址是最常用的检测指标，流影中按照威胁标签对相关事件进行分类，例如挖矿事件、命令控制事件C2等类型；
域名检测一般是通过DNS流量，识别恶意域名请求，发现威胁行为，这类告警事件在流影中归类为DNS事件；
特征指纹一般是恶意软件或与其通信相关的特殊标识，
也普遍用于入侵检测，该类检测告警事件在流影中被归类为包特征识别事件。&lt;/p>
&lt;h4 id="在流影中查看威胁情报事件告警">在流影中查看威胁情报事件告警 &lt;a class="header-link" href="#%e5%9c%a8%e6%b5%81%e5%bd%b1%e4%b8%ad%e6%9f%a5%e7%9c%8b%e5%a8%81%e8%83%81%e6%83%85%e6%8a%a5%e4%ba%8b%e4%bb%b6%e5%91%8a%e8%ad%a6">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h4>
&lt;p>当前版本流影前端界面，还没有设计单独威胁情报事件页面，事件列表中检测方法标记为情报的类型，
就是通过威胁情报检测的安全事件。以下以一个dns事件查看为例进行说明。&lt;/p>
&lt;p>通过点击事件主菜单进入事件汇总页面，可以通过筛选查询查看dns威胁情报相关事件，如下图所示。&lt;/p>
&lt;p>&lt;img src="./ti_event.png" alt="DNS事件">&lt;/p>
&lt;p>选定时间范围和筛选条件后，在页面下方显示的安全事件告警列表，如下图所示，可以看到其检测方法是情报类型：&lt;/p>
&lt;p>&lt;img src="./ti_event_list.png" alt="DNS事件列表">&lt;/p>
&lt;p>列表中显示了事件基本信息，包括检测规则、威胁来源、受害目标、事件类型、细分类型、检出方式、事件级别、
事件时间、持续时长、活跃情况等。&lt;/p>
&lt;p>在事件列表中，可以点击具体事件，可以查看该事件的详情信息，包括报警上下文、通信详情信息，如下图所示：&lt;/p>
&lt;p>&lt;img src="./ti_event_detail.png" alt="DNS事件">&lt;/p>
&lt;p>在该事件的详情页面中，可以查看事件基本信息、源目的资产基本信息、告警时序图、通联时序分布、流量特征信息。&lt;/p>
&lt;h2 id="流影集成情报检索功能支持威胁行为分析">流影集成情报检索功能支持威胁行为分析 &lt;a class="header-link" href="#%e6%b5%81%e5%bd%b1%e9%9b%86%e6%88%90%e6%83%85%e6%8a%a5%e6%a3%80%e7%b4%a2%e5%8a%9f%e8%83%bd%e6%94%af%e6%8c%81%e5%a8%81%e8%83%81%e8%a1%8c%e4%b8%ba%e5%88%86%e6%9e%90">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>安全分析人员针对安全事件告警信息，往往需要查询更多的情报来进行分析处置，
内外部的威胁情报能够提供线索扩展，辅助事件告警分析，去伪存真。
这主要是针对威胁情报命中事件之外的告警事件而言，例如流影中包检测事件、经验模型判定事件，
通过查询事件相关的内外部威胁情报，进行关联分析，最终确认是否真实威胁行为。
需要说明的是，开源流影当前集成的情报查询是自建情报数据接口，开源版仅限用于开发测试。
外部情报查询，支持跳转到VirusTotal。
在实际生产环境，建议用户使用商业版威胁情报或者自营情报中心的数据。&lt;/p>
&lt;p>在流影中，有两种方式进行威胁情报查询，第一种方式是通过全局搜索，如下图所示：&lt;/p>
&lt;p>&lt;img src="./ti_search.png" alt="情报检索">&lt;/p>
&lt;p>输入检索的IP地址或者Domain字符串，点击检索按钮，即可进入检索详情页面，点击左侧的情报标签，即可查看历史情报档案信息。
&lt;img src="./ti_search_result.png" alt="情报检索结果">
该页面显示的情报信息，来源于公司自建的情报接口，开源版可以测试使用。商业使用请单独联系。&lt;/p>
&lt;p>第二种查询方式是通过事件列表页的快捷菜单，如下图所示：
&lt;img src="./ti_search_2.png" alt="情报检索结果2">
在事件列表页，直接点击IP或者Domain，页面显示快捷菜单，选择全局搜索可以进入第一种查询方式；
特别地，这里还支持外部威胁情报查询，目前集成了搜索引擎和跳转VirusTotal的快速查询。&lt;/p>
&lt;h2 id="流影产出威胁情报">流影产出威胁情报 &lt;a class="header-link" href="#%e6%b5%81%e5%bd%b1%e4%ba%a7%e5%87%ba%e5%a8%81%e8%83%81%e6%83%85%e6%8a%a5">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影本身能够生产威胁情报。安全分析人员通过分析确认后的安全告警事件，即是自产的高时效性威胁情报，
可以共享给社区联盟或者外界使用，输出威胁情报。&lt;/p>
&lt;p>流影留存了告警事件的上下文流量特征、原始Pcap包、聚合事件等信息。
在事件列表页面，支持导出事件告警及其上下文信息，如下图所示：
&lt;img src="./ti_export.png" alt="情报导出共享">
批量选择安全事件进行导出，支持Excel和CSV格式及导出字段选择。&lt;/p>
&lt;p>在事件详情页面，支持导出详细报告和通讯特征数据，如下图所示：
&lt;img src="./ti_export_2.png" alt="情报导出共享2">&lt;/p>
&lt;h2 id="总结">总结 &lt;a class="header-link" href="#%e6%80%bb%e7%bb%93">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>本文简要介绍了威胁情报在流影中的应用，包括威胁情报基本概念、当前流影支持的威胁情报类型、
流影如何使用威胁情报进行检测和分析、如何通过流影生产威胁情报等方面内容。
一方面，高精准的威胁情报，可以为流影提供强力弹药，
从而命中一些高级别的攻击行为，提升了流影的识别检测能力；另一方面，流影能够留存威胁行为的流量上下文信息和证据，
输出丰富的、高价值流量侧威胁情报。
流影加威胁情报，互相结合，能够相辅相成，达到更好的安全防护效果。&lt;/p>
&lt;h2 id="展望与规划">展望与规划 &lt;a class="header-link" href="#%e5%b1%95%e6%9c%9b%e4%b8%8e%e8%a7%84%e5%88%92">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>当前开源流影在威胁情报的应用还处于初级阶段，
已实现的功能仅支持威胁情报中一小部分内容，
除了IP、Domain类型的IOC，还有哈希值、URL、电子邮件等类型IOC；
除了IOC，还有高级别威胁情报TTPs，这些目前还没有支持。
因此当前只是发挥出威胁情报少量的作用，还有很大的改进提升空间。&lt;/p>
&lt;p>对威胁情报数据类型的全面支持，结合ATT&amp;amp;CK，并且遵循共享交换标准规范，能够使流影在威胁分析、共享交换中发挥更好的作用。
这些功能需求已经列入开源版将来的研发规划之中。
相信如果全面地实现这些功能，在流影中进行集成应用，并且不断迭代完善，
一定能够为用户提供全新的安全视角、更好的使用体验。&lt;/p>
&lt;p>流影是一个完全开源的项目，欢迎大家广泛参与使用，期待您的贡献。&lt;/p>
&lt;h2 id="相关信息">相关信息 &lt;a class="header-link" href="#%e7%9b%b8%e5%85%b3%e4%bf%a1%e6%81%af">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;ul>
&lt;li>邮箱：opensource@abyssalfish.com.cn&lt;/li>
&lt;li>&lt;a href="https://abyssalfish-os.github.io/">流影项目&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/orgs/Abyssal-Fish-Technology/repositories">GitHub&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://gitee.com/organizations/abyssalfish-os/projects">Gitee&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://101.254.236.75:14180/ui/#/login">Demo地址&lt;/a>&lt;/li>
&lt;li>扫码进入微信讨论群&lt;/li>
&lt;/ul>
&lt;figure style="padding: 0.25rem; margin: 2rem 0; ">
&lt;img style="max-width: 100%; width: auto; height: auto;" src="https://abyssalfish-os.github.io/news/ti/wx_group_hu382f7d8cb587e8fa5dc30ffe17d00f19_29687_256x0_resize_catmullrom_3.png" width="256" height="249">
&lt;/figure>
&lt;h2 id="参考文献">参考文献 &lt;a class="header-link" href="#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;ol>
&lt;li>&lt;a href="http://101.254.236.75:12280/ui">流影Demo&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://abyssalfish-os.github.io/">流影文档主页&lt;/a>&lt;/li>
&lt;li>Gartner, &lt;a href="https://www.gartner.com/en/documents/2874317">Market Guide for Security Threat Intelligence Service&lt;/a>, 2014.&lt;/li>
&lt;li>J. Friedman, M. Bouchard. Definitive guide to cyber threat intelligence[M]. CyberEdge Press, 2015.&lt;/li>
&lt;li>CrowdStrike, &lt;a href="https://www.crowdstrike.com/cybersecurity-101/threat-intelligence/">WHAT IS CYBER THREAT INTELLIGENCE?&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://stixproject.github.io/">STIX&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://taxiiproject.github.io/">TAXII&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.nist.gov/publications/cyber-threat-intelligence-and-information-sharing">Cyber Threat Intelligence and Information Sharing&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-150.pdf">NIST.SP.800-150&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://attack.mitre.org/">ATT&amp;amp;CK&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.tc260.org.cn/advice/detail.html?norm_id=20150910115414&amp;amp;norm_iso_id=GB/T%2036643%E2%80%942018">《信息安全技术 网络安全威胁信息格式规范》(GB/T 36643-2018)&lt;/a>&lt;/li>
&lt;li>尹彦,张红斌,刘滨,赵冬梅.网络安全态势感知中的威胁情报技术[J].河北科技大学学报,2021,42(2):195-204.&lt;/li>
&lt;li>刘宝旭, 杨沛安, 武杨, 苏莉娅. 网络空间威胁情报共享技术综述. 计算机科学[J]. 2018, 45(6): 9-18,26.&lt;/li>
&lt;li>Jasper S E. US cyber threat intelligence sharing frameworks[J]. International Journal of Intelligence and CounterIntelligence, 2017, 30(1): 53-65.&lt;/li>
&lt;li>Bromiley M. Threat intelligence: What it is, and how to use it effectively[J]. SANS Institute InfoSec Reading Room, 2016, 15: 172.&lt;/li>
&lt;/ol></description></item><item><title>News: 流影宣布开源</title><link>https://abyssalfish-os.github.io/news/opensource/</link><pubDate>Fri, 30 Dec 2022 00:00:00 +0800</pubDate><guid>https://abyssalfish-os.github.io/news/opensource/</guid><description>
&lt;h1 id="开源流影--基于流量的网络行为高级分析平台">开源：流影&amp;ndash;基于流量的网络行为高级分析平台&lt;/h1>
&lt;h2 id="项目简介">项目简介 &lt;a class="header-link" href="#%e9%a1%b9%e7%9b%ae%e7%ae%80%e4%bb%8b">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影是一款基于全流量的高级网络行为分析系统，该系统是由深海鱼（北京）科技有限公司流影项目组研发设计，首发开源是1.0版本。&lt;/p>
&lt;p>深海鱼（北京）科技有限公司专注于为客户提供优质的数据分析相关服务，近年来立足于客户的数字安全需求，深耕网络流量数据挖掘及网络安全数据可视化分析等方面研究，初步设计研发出一款高级网络行为分析系统，为全行业客户提供网络安全行为分析及追溯能力。&lt;/p>
&lt;p>&lt;img src="https://abyssalfish-os.github.io/img/zong.png" alt="testpics">&lt;/p>
&lt;p>流影是面向全行业用户的下一代网络安全平台，专注于分析识别各类网络威胁相关行为，同时对各类网络行为留存关键证据。采用的核心技术包括深度包检测、网络流数据挖掘、专家经验特征模型、机器学习、数据可视化等，涵盖了网络威胁入侵检测、网络行为痕迹留存、资产被动测绘、威胁行为告警、网络行为可视化分析、态势感知等网络安全方面的基础能力。流影采用了模块化引擎设计，易于部署和操作使用，灵活可扩展，为客户提供了一种轻量级的网络安全感知与网络行为可视化分析综合解决方案。广泛适用于各类企业及个人，在网络安全运维、攻防演练、异常通讯检测、威胁追溯分析等应用场景。&lt;/p>
&lt;p>流影功能特性：&lt;/p>
&lt;ul>
&lt;li>可视化：用户界面利用前沿安全数据可视化技术进行呈现，提供高效交互式分析方式，增强用户对网络行为数据的理解，帮助用户从海量数据中发现重要威胁线索&lt;/li>
&lt;li>可解释：系统分析引擎自动挖掘记录网络行为关键特征，保存异常通讯特征，为行为分析提供解释依据&lt;/li>
&lt;li>事件聚合：威胁行为告警事件经过特征模型、情报过滤、关联聚合，产生重要而准确的告警事件，让事件可处置&lt;/li>
&lt;li>数据分层治理：原始流量数据经过采集层、特征分析层、数据聚合管理层的三层处理，分别完成采集解析、特征分析提取、安全事件聚合功能，每层数据由相应节点管理，快速响应分析挖掘需求&lt;/li>
&lt;li>高性能：流量采集单节点支持高达10Gbps，用户界面秒级响应&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://abyssalfish-os.github.io/img/event.png" alt="eventpics">&lt;/p>
&lt;p>通过流影系统对互联网出口、内部交换节点等关键流量进行分析，看清网络通讯、看见网络行为、看懂网络威胁，帮助用户以安全可视化的方式，对自身网络安全风险快速精准发现和识别，守护每一位用户的数字化发展之路。&lt;/p>
&lt;p>&lt;img src="https://abyssalfish-os.github.io/img/event_detail.png" alt="event_detail">&lt;/p>
&lt;h2 id="开源目的">开源目的 &lt;a class="header-link" href="#%e5%bc%80%e6%ba%90%e7%9b%ae%e7%9a%84">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;p>流影是一项低门槛、轻量级的网络威胁识别与分析的解决方案，具有灵活可扩展的特点，可以为各层次用户提供网络安全服务，发挥安全防护价值。&lt;/p>
&lt;p>为最大化流影系统的价值，更好服务用户，公司决定将流影系统开源，在合法的前提下，任何企业及个人都可以安装使用。&lt;/p>
&lt;p>通过开源，更希望广大安全研发人员能参与进来，在获取更多的用户使用反馈的同时，不断迭代流影功能，形成正向循环发展，为用户提供更好的分析服务和威胁发现能力，也为我国网络安全、数据安全建设贡献力量。&lt;/p>
&lt;h2 id="项目地址">项目地址 &lt;a class="header-link" href="#%e9%a1%b9%e7%9b%ae%e5%9c%b0%e5%9d%80">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>&lt;a href="https://github.com/orgs/Abyssal-Fish-Technology/repositories">GitHub&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://gitee.com/organizations/abyssalfish-os/projects">Gitee&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="演示地址">演示地址 &lt;a class="header-link" href="#%e6%bc%94%e7%a4%ba%e5%9c%b0%e5%9d%80">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>&lt;a href="http://101.254.236.75:14180/ui/">Demo地址&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>演示账号：demo&lt;/p>
&lt;/li>
&lt;li>
&lt;p>口令：demo@2022&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://abyssalfish-os.github.io/img/login.png" alt="ly_login">&lt;/p>
&lt;h2 id="联系反馈">联系反馈 &lt;a class="header-link" href="#%e8%81%94%e7%b3%bb%e5%8f%8d%e9%a6%88">&lt;svg class="fill-current o-60 hover-accent-color-light" height="22px" viewBox="0 0 24 24" width="22px" xmlns="http://www.w3.org/2000/svg">&lt;path d="M0 0h24v24H0z" fill="none"/>&lt;path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>&lt;/svg>&lt;/a>&lt;/h2>
&lt;ul>
&lt;li>邮箱：opensource@abyssalfish.com.cn&lt;/li>
&lt;li>扫码进入微信讨论群
&lt;figure style="padding: 0.25rem; margin: 2rem 0; ">
&lt;img style="max-width: 100%; width: auto; height: auto;" src="https://abyssalfish-os.github.io/news/opensource/wx_group_hu382f7d8cb587e8fa5dc30ffe17d00f19_29687_256x0_resize_catmullrom_3.png" width="256" height="249">
&lt;/figure>
&lt;/li>
&lt;/ul></description></item></channel></rss>